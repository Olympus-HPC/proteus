.base-job:
  extends: .job_on_matrix
  before_script:
    - echo "=== Start CI spack Tests ==="
  after_script:
    - rm -rf ${CI_BUILDS_DIR}
    - echo "=== End CI spack Tests ==="

.variants:
  parallel:
    matrix:
      - PROTEUS_CI_CUDA_VERSION: ["12.9"]
        PROTEUS_CI_LLVM_VERSION: ["19.1.3"]

test-spack-matrix:
  extends: [.base-job, .variants]
  variables:
    PROTEUS_CI_CUDA_ARCH: "90"
